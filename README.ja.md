# Zotomatic

Zotomaticは、研究論文のPDFを起点に、書誌情報や本文の抽出結果をもとにして、ユーザー定義のテンプレートに従ってMarkdownノートを自動生成するCLIツールです。

Zoteroで管理されている論文PDFからは、著者・タイトル・アブストラクトなどのメタデータを取得してリッチなノートを生成できます。一方で、Zotero管理外のPDFに対しても、最低限の情報を用いたノート生成が可能です。

さらにZotomaticはLLMと任意で連携し、論文内容の要約やタグ生成を指定言語で行い、その結果をノートに挿入できます。
※ 言語ごとの出力品質や正確性は、利用するLLMに依存します。

生成されるノートは単なるMarkdownファイルであり、テンプレートは完全にユーザーが自由に定義できます。そのため、Obsidianをはじめとする任意のエディタやナレッジ管理ツールで利用できます。

---

## インストール

```bash
pip install zotomatic
```

---

## 特徴

- 研究論文PDF から Markdown ノートを自動生成
- Zotero 管理下の PDF 書誌情報（著者・タイトル・アブストラクトなど）を取得
- Zotero 管理外の PDF にも対応（最低限のノート生成）
- ユーザー定義テンプレートによる柔軟なノート構成
- LLM 連携による要約・タグ生成（多言語対応）
- CLI ベースで自動化・スクリプト連携が容易

---

## 想定ユースケース

- Zotero Connector で論文 PDF を保存したタイミングで、研究ノートを自動生成したい
- 既存の Zotero ライブラリ内の論文 PDF から、まとめてノートを作成したい
- Obsidian の vault をノート出力先として、論文メモを一元管理したい
- 論文の一次スクリーニング用に、要約・タグ付きノートを素早く作りたい

---

## 基本の使い方

Zotomaticは研究論文のPDFから自動でmarkdownノートを生成するCLIツールです。
Zotero連携やLLM連携(現在はOpenAI社のChatGPTのみ)により、
各種論文情報や、LLMによる任意の言語での要約を自動挿入してノートを作成することができます。
Zotero連携やLLM連携がなくてもノート作成は可能ですが、ここでは各種連携を前提とした基本的な使い方の流れを説明します。

使い方はシンプルで、次の手順でZoteroに研究論文のPDFを保存し、zotomatic scanコマンドを実行するだけで自動でMarkdownノートが生成されます。

### まとめてmarkdownノートを生成したい場合　（onceモード）
指定したディレクトリ内の PDF を一度だけスキャンし、ノートを生成するモードです。

1. Zotero デスクトップを起動する
2. Zoteroに研究論文PDFを保存する
3. Zotomatic　のscanコマンドを実行する

新規に保存されたPDFを検出し、自動でノートが作成されます。

### PDF保存ごとにmarkdownノートを生成したい場合　（watchモード）
PDF保存ディレクトリを監視し、新しいPDFが追加されるたびにノートを生成するモードです。

1. Zotero デスクトップを起動する
2. Zotomatic をwatchモードで起動する
3. Zoteroに研究論文PDFを保存する

PDFが保存されるたびに、自動検知してノートが作成されます。

### LLMによる自動要約・タグ付け
特別な操作は必要ありません。
ZotomaticにLLM APIキーを設定し、自動要約とタグ生成を許可する設定にすれば、ノートに自動でLLM生成結果が挿入されます。
またLLM出力の言語を設定することも可能で、設定した言語で要約が出力されます。

---

## おすすめの使い方（Typical Workflow）

### Zotero 連携 + 自動ノート生成
Zoteroと連携することで、Zotero内に保存された書誌情報を挿入したノートを生成することができます。
さらにChrome拡張機能 Zotero Connectorを併用することで、次のようにブラウザから１クリックでノートを作成することができます。

1. `zotomatic scan --watch` を起動
2. Zotero Connector でブラウザから論文 PDF をZoteroに保存
3. 自動 Markdown ノートが生成される

---

### Obsidian との併用

- ノート出力先を Obsidian の vault ディレクトリに設定しておくと便利です
- 生成されたMarkdownノートは、そのまま Obsidian で閲覧・編集できます

---

### LLM 連携について

zotomatic は LLM（現在は ChatGPTのみ）と任意で連携し、論文内容の自動要約やObsidianに対応した形式のタグ生成を行えます。

### 要約モード

要約生成には、以下の 3 つのモードを指定できます。

- `quick` 
  簡易的な要約。高速・低コストで論文の概要を把握したい場合に向いています。
- `standard`（デフォルト） 
  バランスの取れた要約。通常の研究ノート作成に適しています。
- `deep` 
  より詳細な要約。論文内容を深く把握したい場合に向いています。

モードにより、PDF の参照範囲や要約の詳細度が変わります（速度・コストとのトレードオフがあります）。

※ 要約の正確性や品質は、利用する LLM に依存します。原文の確認を推奨します。

---

## 設定について

- 設定は設定ファイル・環境変数・CLI オプションから指定できます
- ノートテンプレートは完全にユーザーが自由に定義できます
- ノートのファイル名規則もある程度カスタマイズ可能です

詳細は `docs/ja` ディレクトリ内のドキュメントを参照してください。

---

## 今後の予定（Roadmap）

- ChatGPT 以外の LLM プロバイダ対応（例: Gemini など）

※ 上記は予定であり、実装時期や内容は変更される可能性があります。

---

## 注意事項

- zotomatic は研究支援ツールであり、生成される要約やタグの正確性を保証するものではありません
- 論文の理解や引用にあたっては、必ず原文を確認してください

---

## ライセンス

MIT License

---

## サポート・フィードバック

バグ報告は GitHub Issues にて受け付けています。

本プロジェクトは個人開発のため、すべての Issue や Pull Request に対応できない場合があります。現時点では、Pull Request の受け付けは行っていません。
